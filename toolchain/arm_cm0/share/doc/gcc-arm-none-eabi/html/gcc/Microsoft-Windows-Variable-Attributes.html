<html lang="en">
<head>
<title>Microsoft Windows Variable Attributes - Using the GNU Compiler Collection (GCC)</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Using the GNU Compiler Collection (GCC)">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Variable-Attributes.html#Variable-Attributes" title="Variable Attributes">
<link rel="prev" href="MeP-Variable-Attributes.html#MeP-Variable-Attributes" title="MeP Variable Attributes">
<link rel="next" href="MSP430-Variable-Attributes.html#MSP430-Variable-Attributes" title="MSP430 Variable Attributes">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``Funding Free Software'', the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Microsoft-Windows-Variable-Attributes"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="MSP430-Variable-Attributes.html#MSP430-Variable-Attributes">MSP430 Variable Attributes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="MeP-Variable-Attributes.html#MeP-Variable-Attributes">MeP Variable Attributes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Variable-Attributes.html#Variable-Attributes">Variable Attributes</a>
<hr>
</div>

<h4 class="subsection">6.32.8 Microsoft Windows Variable Attributes</h4>

<p>You can use these attributes on Microsoft Windows targets. 
<a href="x86-Variable-Attributes.html#x86-Variable-Attributes">x86 Variable Attributes</a> for additional Windows compatibility
attributes available on all x86 targets.

     <dl>
<dt><code>dllimport</code><dt><code>dllexport</code><dd><a name="index-g_t_0040code_007bdllimport_007d-variable-attribute-3607"></a><a name="index-g_t_0040code_007bdllexport_007d-variable-attribute-3608"></a>The <code>dllimport</code> and <code>dllexport</code> attributes are described in
<a href="Microsoft-Windows-Function-Attributes.html#Microsoft-Windows-Function-Attributes">Microsoft Windows Function Attributes</a>.

     <br><dt><code>selectany</code><dd><a name="index-g_t_0040code_007bselectany_007d-variable-attribute-3609"></a>The <code>selectany</code> attribute causes an initialized global variable to
have link-once semantics.  When multiple definitions of the variable are
encountered by the linker, the first is selected and the remainder are
discarded.  Following usage by the Microsoft compiler, the linker is told
<em>not</em> to warn about size or content differences of the multiple
definitions.

     <p>Although the primary usage of this attribute is for POD types, the
attribute can also be applied to global C++ objects that are initialized
by a constructor.  In this case, the static initialization and destruction
code for the object is emitted in each translation defining the object,
but the calls to the constructor and destructor are protected by a
link-once guard variable.

     <p>The <code>selectany</code> attribute is only available on Microsoft Windows
targets.  You can use <code>__declspec (selectany)</code> as a synonym for
<code>__attribute__ ((selectany))</code> for compatibility with other
compilers.

     <br><dt><code>shared</code><dd><a name="index-g_t_0040code_007bshared_007d-variable-attribute-3610"></a>On Microsoft Windows, in addition to putting variable definitions in a named
section, the section can also be shared among all running copies of an
executable or DLL.  For example, this small program defines shared data
by putting it in a named section <code>shared</code> and marking the section
shareable:

     <pre class="smallexample">          int foo __attribute__((section ("shared"), shared)) = 0;
          
          int
          main()
          {
            /* <span class="roman">Read and write foo.  All running
               copies see the same value.</span>  */
            return 0;
          }
     </pre>
     <p class="noindent">You may only use the <code>shared</code> attribute along with <code>section</code>
attribute with a fully-initialized global definition because of the way
linkers work.  See <code>section</code> attribute for more information.

     <p>The <code>shared</code> attribute is only available on Microsoft Windows.

 </dl>

 </body></html>

